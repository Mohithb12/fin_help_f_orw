{% load static tailwind_tags %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Women Empowerment Platform</title>

    <!-- Bootstrap & Tailwind CSS -->
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    {% tailwind_css %}
</head>

<body class="flex flex-col min-h-screen relative">

    <!-- ✅ HEADER -->
    <header class="navbar">
        <nav>
            <div class="container">
                <a href="{% url 'home' %}" class="logo">
                    <img src="{% static 'images/logo.jpg' %}" alt="logo">
                    <span>EmpowerWomen</span>
                </a>

                <button id="menu-btn" class="mobile-menu-btn">☰</button>

                <ul id="menu">
                    <li><a href="{% url 'home' %}">Home</a></li>
                    <li><a href="{% url 'contact' %}">About</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <!-- ✅ MAIN CONTENT -->
    <main class="flex-1">
        <div class="content">
            <h1>Empower, Educate, Elevate</h1>
            <p>Join our community to learn, connect, and grow.</p>
        </div>

        <!-- ✅ Course Section -->
        <section class="courses">
            <ul>
                <li><a href="{% url 'learning_page' %}">START LEARNING</a></li>
                <li> <a href="{% url 'network' %}">CONNECT WITH PEERS</a></li>
                <li onclick="openChatbot()">ASK YOUR DOUBTS</li>
            </ul>
        </section>
    </main>

    <!-- ✅ FOOTER -->
    <footer class="bg-gray-900 text-white py-6 mt-auto">
        <div class="container mx-auto text-center">
            <p class="text-lg font-semibold">EmpowerWomen © 2025 | All Rights Reserved</p>

            <div class="flex justify-center mt-4 space-x-6">
                <a href="{% url 'contact' %}" class="hover:text-gray-400">Contact Us</a>
            </div>
        </div>
    </footer>

    <!-- ✅ CHATBOT (Sliding Panel) -->
    <div id="chatbot" class="fixed top-0 right-0 w-80 h-full bg-white shadow-lg transform translate-x-full transition-transform duration-300 flex flex-col">
        <div class="bg-blue-600 text-white p-4 flex justify-between">
            <h2 class="text-lg font-semibold">Chatbot</h2>
            <button onclick="closeChatbot()" class="text-white">&times;</button>
        </div>

        <div id="chat-window" class="flex-1 p-4 overflow-y-auto space-y-3">
            <div class="text-sm bg-gray-200 p-3 rounded-lg self-start">Hello! How can I assist you?</div>
        </div>

        <div class="p-4 border-t flex">
            <input id="chat-input" type="text" class="flex-1 border px-3 py-2 rounded-lg focus:outline-none" placeholder="Type a message...">
            <button onclick="sendMessage()" class="ml-2 bg-blue-600 text-white px-4 py-2 rounded-lg">Send</button>
        </div>
    </div>

    <!-- ✅ SCRIPTS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'js/script.js' %}"></script>

    <script>
        // Function to open chatbot
        function openChatbot() {
            document.getElementById("chatbot").classList.remove("translate-x-full");
        }

        // Function to close chatbot
        function closeChatbot() {
            document.getElementById("chatbot").classList.add("translate-x-full");
        }

        // Function to handle chat messages
        function sendMessage() {
            let inputField = document.getElementById("chat-input");
            let message = inputField.value.trim();
            if (message === "") return;

            // Display user message
            let chatWindow = document.getElementById("chat-window");
            let userMessage = document.createElement("div");
            userMessage.className = "text-sm bg-blue-500 text-white p-3 rounded-lg self-end";
            userMessage.innerText = message;
            chatWindow.appendChild(userMessage);

            // Dummy chatbot response
            let botMessage = document.createElement("div");
            botMessage.className = "text-sm bg-gray-200 p-3 rounded-lg self-start mt-2";
            botMessage.innerText = "I'm here to help!";
            chatWindow.appendChild(botMessage);

            // Clear input field
            inputField.value = "";

            // Auto-scroll to latest message
            chatWindow.scrollTop = chatWindow.scrollHeight;
        }
    </script>

</body>
</html>
